<div class="container mt-4 ">

  <div class="row ">

    <div class="col-lg-3 ">

      <app-categories></app-categories>

    </div>
    <!-- /.col-lg-3 -->
    <div class="col-lg-9 mb-2">

      <table class="table " *ngIf="cartItems?.length > 0">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Book Image</th>
            <th scope="col">Book Details</th>
            <th scope="col">Costs</th>
            <th scope="col">Edit</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let cartItem of cartItems ; let i=index">
            <td><img [src]="cartItem.imageUrl"></td>
            <td>
              {{cartItem.name}}
              <hr>{{cartItem.price | currency : "$"}}
            </td>
            <td>
                Quantity : {{cartItem.quantity}}
                <hr>                
                Sub Total : {{cartItem.price * cartItem.quantity | currency : "$"}}             
            </td>
            <td>
              <div>
                <button class="btn btn-danger btn-sm mr-2" (click)="remove(cartItem)">
                  <i class="fas fa-trash"></i>
                </button>             
                <button type="button" class="btn btn-primary btn-sm mr-2" (click)="decrement(cartItem)">
                  <i class="fas fa-minus"></i>
                </button>           
                <button type="button" class="btn btn-primary btn-sm mr-2" [class.disabled]="cartItem.quantity>=cartItem.stockUnits" (click)="increment(cartItem)">
                  <i class="fas fa-plus"></i>
                </button>
              </div>              
            </td>
          </tr>
          <tr>
            <td colspan="2"></td>
            <td>Total Quantity : {{totalQuantity}}
              <hr>Total Price : {{totalPrice | currency : "$"}}
              <div class="mt-2">
                <a routerLink="/checkout" class="btn btn-primary" >Checkout</a>
              </div>
             </td>
          </tr>         
        </tbody>
        <!-- /.table -->
      </table>
      <div [class.d-none]="cartItems?.length !== 0" class="alert alert-warning">
        <h2>Your cart is empty</h2>
      </div>
      <!-- /.col-lg-9 -->
    </div>
     <!-- /.row -->
  </div>
  <!-- /.container -->
</div>